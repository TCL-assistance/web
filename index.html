<!doctype html>
<html lang="fr">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="icon" type="image/png" href="HTML/LOGOS/favicon.png">
  <link rel="apple-touch-icon" href="HTML/LOGOS/apple-icon.png">

  <!-- SEO de base -->
  <title>TCL Assistance ‚Äì D√©pannage auto mobile & montage de pneus √† domicile autour de Grenoble</title>

  <meta name="description" content="TCL Assistance ‚Äì service mobile de d√©pannage auto et montage de pneus √† domicile ou sur votre lieu de travail autour de Grenoble, Voiron, Rives et Pont-de-Claix. Intervention rapide sur rendez-vous.">
  <meta name="robots" content="index,follow">

  <link rel="canonical" href="https://tcl-am.fr/">

  <!-- Open Graph -->
  <meta property="og:locale" content="fr_FR">
  <meta property="og:type" content="website">
  <meta property="og:title" content="TCL Assistance ‚Äì D√©pannage auto mobile & montage de pneus √† domicile">
  <meta property="og:description" content="Service mobile TCL Assistance : d√©pannage auto, montage de pneus, petites r√©parations √† domicile ou sur votre lieu de travail autour de Grenoble et Voiron.">
  <meta property="og:url" content="https://tcl-am.fr/">
  <meta property="og:site_name" content="TCL Assistance">
  <meta property="og:image" content="https://tcl-am.fr/HTML/LOGOS/MINIATURE.png">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="TCL Assistance ‚Äì D√©pannage auto mobile & montage de pneus">
  <meta name="twitter:description" content="Montage de pneus √† domicile, d√©pannage auto et petites r√©parations par TCL Assistance autour de Grenoble et Voiron.">
  <meta name="twitter:image" content="https://tcl-am.fr/HTML/LOGOS/MINIATURE.png">

  <!-- Donn√©es structur√©es Schema.org -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "AutomotiveBusiness",
    "name": "TCL Assistance",
    "url": "https://tcl-am.fr/",
    "description": "TCL Assistance est un service mobile de montage de pneus √† domicile, d√©pannage auto et petites r√©parations autour de Grenoble, Voiron, Rives et Pont-de-Claix.",
    "image": "https://tcl-am.fr/HTML/LOGOS/MINIATURE.png",
    "telephone": "+33-7-58-66-30-69",
    "email": "contact.tclassistance@gmail.com",
    "areaServed": [
      "Grenoble",
      "Voiron",
      "Rives",
      "Tullins",
      "Moirans",
      "Pont-de-Claix"
    ],
    "serviceArea": {
      "@type": "Place",
      "name": "Is√®re"
    }
  }
  </script>


  <!-- Fonts & Leaflet -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="">

  <style>
    :root{
      --brand:#2B8CF0;
      --brand-2:#6AA6FF;
      --ink:#0f172a;
      --muted:#697280;
      --bg:#ffffff;
      --hero-h: clamp(260px, 42vh, 720px);
      --container-w: 1100px;
      --radius: 18px;
      --shadow: 0 8px 22px rgba(0,0,0,.08);
      --deco-size: clamp(180px, 40vw, 520px);
      --deco-opacity: .22;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{background:var(--bg);color:var(--ink);font-family:'Inter',system-ui,sans-serif;scroll-behavior:smooth}
    a{text-decoration:none;color:inherit}
    img{max-width:100%;height:auto;display:block}
    .container{max-width:var(--container-w);margin:0 auto;padding:0 24px}

    /* Bandeau compact standard */
    .topbar{position:sticky;top:0;z-index:60;background:linear-gradient(90deg,var(--brand),var(--brand-2));color:#fff}
    .topbar-wrap{display:flex;align-items:center;justify-content:center;gap:10px;padding:8px 10px;font-weight:800}
    .topbar a{display:inline-flex;align-items:center;gap:8px;padding:.38em .75em;border:1px solid rgba(255,255,255,.25);border-radius:999px;transition:.2s;font-size:14px}
    .topbar a:hover{background:rgba(255,255,255,.12);transform:translateY(-1px)}
    .topbar svg{width:16px;height:16px}

    /* NAV */
    .nav{position:sticky;top:40px;z-index:50;background:rgba(255,255,255,.85);backdrop-filter:blur(6px);border-bottom:1px solid rgba(0,0,0,.06)}
    .nav-wrap{display:flex;align-items:center;justify-content:space-between;height:64px}
    .brand-logo{height:clamp(36px,4vw,48px)}
    .menu{display:flex;gap:24px;font-weight:700}
    .menu a:hover{color:var(--brand)}

    /* HERO */
    .hero{position:relative;height:var(--hero-h);display:grid;place-items:center;overflow:hidden;text-align:center}
    .hero-bg{position:absolute;inset:0;width:100%;height:120%;object-fit:cover;transform:translateY(0);will-change:transform}
    .hero::after{content:"";position:absolute;inset:0;background:linear-gradient(to bottom,rgba(0,0,0,.2),rgba(255,255,255,0) 70%)}
    .logo-stage{position:relative;z-index:1;transform:translateY(20px)}
    .logo-stage img{width:clamp(240px,42vw,360px)}
    .hero-sub{margin-top:10px;color:#fff;font-weight:800;letter-spacing:.18em;text-shadow:0 2px 8px rgba(0,0,0,.4)}

    section{padding:64px 0;border-top:1px solid #f2f3f5}
    h2{font-size:clamp(24px,3vw,34px);margin-bottom:12px}
    p{color:var(--muted);line-height:1.7}

    .pitch{background:linear-gradient(rgba(43,140,240,.08),rgba(43,140,240,.04));border:1px solid #e8eefb;border-radius:14px;padding:22px}
    .pitch strong{color:var(--brand)}

    /* Services */
    .features-grid{display:grid;gap:18px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));margin-top:20px}
    .feature{background:#fff;border:1px solid #e7eaf0;border-radius:var(--radius);padding:22px;text-align:center;box-shadow:var(--shadow);transition:.3s;cursor:pointer}
    .feature:hover{transform:translateY(-6px);box-shadow:0 16px 34px rgba(43,140,240,.28)}
    .feature .ico{width:70px;margin:0 auto 10px}
    .feature h3{margin:8px 0 6px;font-weight:800;font-size:18px}
    .feature p{font-size:14px;color:#6b7280;margin:0}

    /* Contact */
    .xp-cards{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:18px;margin-top:18px;align-items:stretch}
    @media (max-width:900px){ .xp-cards{ grid-template-columns:1fr; } }
    .xp-card{display:flex;align-items:center;gap:14px;background:var(--brand);color:#fff;border-radius:16px;padding:18px 24px;font-size:16px;font-weight:700;box-shadow:var(--shadow);transition:.2s;min-height:64px;width:100%}
    .xp-card:hover{transform:translateY(-2px);filter:brightness(.95)}
    .xp-card svg{width:24px;height:24px}
    .xp-card .k{opacity:.95;font-weight:700}
    .xp-card .v{font-weight:800;letter-spacing:.3px}

    /* Roue d√©cor */
    .deco{position:relative;height:calc(var(--deco-size)*.28);overflow:hidden}
    .deco .wheel{position:absolute;left:50%;bottom:0;transform:translateX(-50%);opacity:var(--deco-opacity);width:var(--deco-size);height:auto;will-change:transform}

    /* ZONE D‚ÄôINTERVENTION */
    #zone { padding:64px 0; border-top:1px solid #f2f3f5; }
    #zone .map-wrap{max-width:1100px;margin:0 auto;padding:0 24px}
    #map{
      position:relative;
      width:100%; height:420px;
      border-radius:18px; box-shadow:0 8px 22px rgba(0,0,0,.08);
      border:1px solid #e7eaf0; overflow:hidden
    }
    /* Overlay tactile */
    .touch-block{
      position:absolute; inset:0; z-index:600;
      display:flex; align-items:flex-end; justify-content:center;
      background:linear-gradient(180deg, rgba(255,255,255,0), rgba(255,255,255,0));
      pointer-events:auto;
    }
    .touch-block .map-enable-btn{
      margin:14px; background:rgba(255,255,255,0.96); color:var(--ink);
      border-radius:999px; padding:8px 12px; font-weight:700;
      box-shadow:0 8px 20px rgba(0,0,0,.08); border:1px solid rgba(0,0,0,.06);
      cursor:pointer; font-size:14px;
    }
    @media(min-width:900px){ .touch-block{ display:none; } }

    .legend{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin:12px 0 0}
    .legend .dot{width:12px;height:12px;border-radius:999px;display:inline-block}
    .legend .std{background:#2B8CF0}
    .legend .ext{background:#6AA6FF}
    .legend span{ white-space:nowrap; font-size:14px; line-height:1; }

    .zone-cta{margin-top:16px;display:inline-flex;align-items:center;gap:8px;background:linear-gradient(90deg, var(--brand), var(--brand-2));color:#fff;font-weight:800;border-radius:999px;border:1px solid rgba(0,0,0,.06);padding:10px 16px;text-decoration:none;box-shadow:0 8px 22px rgba(0,0,0,.08)}
    .zone-cta:hover{filter:brightness(.96); transform:translateY(-1px); transition:.2s}

    /* === Estimation pliable === */
    .estimate-wrap{margin-top:16px}
    .estimate-toggle{
      display:inline-flex;align-items:center;gap:8px;
      background:linear-gradient(90deg,var(--brand),var(--brand-2));
      color:#fff;font-weight:800;border-radius:999px;border:1px solid rgba(0,0,0,.06);
      padding:10px 16px;text-decoration:none;box-shadow:var(--shadow);cursor:pointer;
    }
    .estimate-toggle:hover{filter:brightness(.96);transform:translateY(-1px);transition:.2s}
    .estimate-toggle svg{width:18px;height:18px}

    .estimate-panel{ overflow:hidden; max-height:0; transition:max-height .35s ease; margin-top:12px; }
    .estimate-card{
      background:#fff;border:1px solid #e7eaf0;border-radius:16px;box-shadow:var(--shadow);padding:16px;
    }

    .est-row{display:flex;gap:10px;flex-wrap:wrap;align-items:flex-end}
    .est-row label{font-weight:700;width:100%}
    .est-row input, .est-row select{
      flex:1 1 300px; padding:12px;border:1px solid #e5e7eb;border-radius:12px;font:inherit;
    }

    /* Wrapper adresse + suggestions */
    .est-address-wrap{
      position:relative;
      flex:1 1 300px;
    }
    .est-address-wrap input{
      width:100%;
    }

    /* Liste de suggestions claire */
/* Conteneur de la liste */
.est-suggestions{
  position:absolute;
  left:0;
  right:0;
  top:100%;
  margin-top:4px;

  background:#ffffff;                         /* fond blanc propre */
  border:1px solid #cbd5e1;                   /* bord plus fin et neutre */
  border-radius:12px;
  box-shadow:0 8px 20px rgba(15,23,42,.12);   /* ombre un peu plus marqu√©e */
  padding:4px;                                /* petit padding interne */

  max-height:220px;
  overflow:auto;
  z-index:40;
  display:none;
}

/* Chaque suggestion */
.est-suggest-item{
  display:block;
  width:100%;
  text-align:left;

  padding:9px 12px;
  margin:2px 0;                               /* espace entre les lignes */

  background:#f9fafb;
  color:#111827;
  font:inherit;
  font-size:14px;
  cursor:pointer;

  border-radius:8px;                          /* bulles arrondies */
  border:1px solid transparent;              /* pour √©viter les sauts de hauteur */
}

/* Dernier √©l√©ment, pas besoin de border sp√©ciale maintenant */
.est-suggest-item:last-child{
  margin-bottom:2px;
}

/* Hover + navigation clavier */
.est-suggest-item:hover,
.est-suggest-item:focus-visible{
  background:linear-gradient(90deg, var(--brand), var(--brand-2));
  color:#ffffff;
  border-color:rgba(15,23,42,.12);
  outline:none;
}


    .est-row button{
      display:inline-flex;align-items:center;gap:8px;background:#111827;color:#fff;
      font-weight:800;border-radius:12px;border:2px solid #0b1220;padding:12px 16px;cursor:pointer;
    }
    .est-row button:hover{filter:brightness(1.05)}
    .est-status{margin-top:10px;font-size:14px;color:var(--muted);min-height:1.2em}

    /* Prestations */
    .services{margin-top:14px; display:grid; gap:10px}
    .svc-line{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px; border:1px solid #e7eaf0; border-radius:12px; padding:10px 12px;
      background:#fff;
    }
    .svc-left{display:flex; align-items:center; gap:10px}
    .svc-title{font-weight:700}
    .svc-note{font-size:12px; color:var(--muted)}
    .svc-right{display:flex; align-items:center; gap:8px}
    .svc-qty{width:72px; padding:8px; border:1px solid #e5e7eb; border-radius:10px}
    .svc-price{font-weight:800}

    .est-result{
      margin-top:14px;padding:14px;border:1px dashed #d7def0;border-radius:12px;
      background:linear-gradient(rgba(43,140,240,.04),rgba(43,140,240,.02));
    }
    .est-result .big{font-size:22px;font-weight:800}

    .foot{padding:28px 0;text-align:center;color:#94a3b8;font-size:14px}

    /* Style moderne pour les s√©lecteurs (pneus, ampoules, etc.) */
    select {
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      background-color: #fff;
      border: 1px solid #d1d5db;
      border-radius: 10px;
      padding: 10px 34px 10px 12px;
      font: inherit;
      font-weight: 600;
      color: #111827;
      cursor: pointer;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%23111827" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M5 8l5 5 5-5z"/></svg>');
      background-repeat: no-repeat;
      background-position: right 10px center;
      background-size: 14px;
      transition: 0.2s ease;
    }
    select:hover {
      border-color: #2B8CF0;
      box-shadow: 0 0 0 2px rgba(43, 140, 240, 0.15);
    }
    select:focus {
      outline: none;
      border-color: #2B8CF0;
      box-shadow: 0 0 0 3px rgba(43, 140, 240, 0.25);
    }

    @media (prefers-reduced-motion:reduce){
      .topbar a:hover,.feature:hover,.xp-card:hover{transform:none}
      .hero-bg,.deco .wheel{transform:none!important}
    }

    /* --- Ajustement mobile --- */
    @media (max-width: 480px){
      .svc-title { font-size: 14px; }
      .svc-note { font-size: 0px; }
      .svc-price { font-size: 13px; }
      .svc-line { padding: 12px 10px; }
      .svc-qty, #pneuSelect {
        font-size: 14px;
        padding: 8px;
      }
    }
  </style>
</head>

<body>
  <div class="topbar">
    <div class="topbar-wrap">
      <a href="#contact" aria-label="Contacter TCL Assistance">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M6.6 10.8a15.6 15.6 0 006.6 6.6l2.2-2.2a1.2 1.2 0 011.2-.3c1.3.4 2.7.6 4.1.6a1.2 1.2 0 011.2 1.2v3.7a1.2 1.2 0 01-1.2 1.2A19.3 19.3 0 012 4.2 1.2 1.2 0 013.2 3h3.7a1.2 1.2 0 011.2 1.2c0 1.4.2 2.8.6 4.1.1.4 0 .9-.3 1.2L6.6 10.8z" fill="currentColor"/></svg>
        Besoin d'un d√©pannage ? Contact rapide
      </a>
    </div>
  </div>

  <nav class="nav">
  <div class="container nav-wrap">
    <a href="#top" class="brand-link">
      <img src="HTML/LOGOS/logo.png" alt="TCL Assistance" class="brand-logo">
    </a>
    <div class="menu">
      <a href="#services">Services</a>
      <a href="#apropos">√Ä propos</a>
      <a href="#contact">Contact</a>
    </div>
  </div>
</nav>

<h1 style="
  position:absolute;
  left:-9999px;
  top:0;
  width:1px;
  height:1px;
  overflow:hidden;
">
  TCL Assistance ‚Äì d√©pannage auto mobile et montage de pneus √† domicile autour de Grenoble, Voiron, Rives et Pont-de-Claix.
</h1>






  <header class="hero" id="top">
    <img class="hero-bg" src="HTML/FOND/hero2.avif" alt="Camion atelier ‚Äì TCL Assistance">
    <div class="logo-stage"><img src="HTML/LOGOS/logo.png" alt="TCL Assistance ‚Äì D√©pannage auto mobile"></div>
    <div class="hero-sub">D√âPANNAGE ‚Ä¢ PNEUS ‚Ä¢ √Ä DOMICILE</div>
  </header>

  <section id="apropos">
    <div class="container">
      <h2>Votre assistance auto <span style="color:var(--brand)">mobile</span> en Rh√¥ne-Alpes</h2>
      <div class="pitch">
        <p><strong>TCL Assistance</strong> intervient l√† o√π vous √™tes (domicile, travail, parking) pour le <strong>montage de pneus</strong>, les <strong>petites r√©parations</strong> et le <strong>d√©pannage rapide</strong>. Zone d‚Äôintervention : <strong>Rh√¥ne-Alpes</strong> et alentours. <strong>Tarifs attractifs</strong>, d√©lais courts, service pro et souriant.</p>
      </div>
    </div>
  </section>

  <section id="services">
    <div class="container">
      <h2>Services rapides</h2>
      <div class="features-grid">
        <div class="feature"><img src="HTML/ICONES/pneu.png" class="ico" alt=""><h3>Montage de pneus</h3><p>Remplacement, permutation, √©quilibrage sur place.</p></div>
        <div class="feature"><img src="HTML/ICONES/ampoule.png" class="ico" alt=""><h3>Changement d‚Äôampoules</h3><p>Feux de croisement, veilleuses, plaques‚Ä¶</p></div>
        <div class="feature"><img src="HTML/ICONES/essuie.png" class="ico" alt=""><h3>Balais d‚Äôessuie-glace</h3><p>Pose et remplacement sur place.</p></div>
        <div class="feature"><img src="HTML/ICONES/batterie.png" class="ico" alt=""><h3>Batterie / d√©marrage</h3><p>Test, survolteur, remplacement si n√©cessaire.</p></div>
        <div class="feature"><img src="HTML/ICONES/pression.png" class="ico" alt=""><h3>Pression & contr√¥le</h3><p>V√©rifs de s√©curit√© : pneus, niveaux, voyants.</p></div>
        <div class="feature"><img src="HTML/ICONES/diagnostic.png" class="ico" alt=""><h3>Petit diagnostic</h3><p>Lecture code d√©faut, avis & prochaines √©tapes.</p></div>
        <div class="feature"><img src="HTML/ICONES/deplacement.png" class="ico" alt=""><h3>D√©placement √† domicile</h3><p>Sur RDV ‚Äì domicile, boulot, parking‚Ä¶ on vient !</p></div>
        <div class="feature"><img src="HTML/ICONES/urgence.png" class="ico" alt=""><h3>Assistance rapide</h3><p>Cr√©neaux express selon urgence et disponibilit√©.</p></div>
      </div>
    </div>
  </section>

  <div class="deco" aria-hidden="true">
    <img class="wheel" src="HTML/LOGOS/ROUE.png" alt="D√©cor roue">
  </div>

  <section id="contact">
    <div class="container">
      <h2>Contact</h2>
      <div class="xp-cards">
        <a class="xp-card" href="tel:0758663069">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M6.6 10.8a15.6 15.6 0 006.6 6.6l2.2-2.2a1.2 1.2 0 011.2-.3c1.3.4 2.7.6 4.1.6a1.2 1.2 0 011.2 1.2v3.7a1.2 1.2 0 01-1.2 1.2A19.3 19.3 0 012 4.2 1.2 1.2 0 013.2 3h3.7a1.2 1.2 0 011.2 1.2c0 1.4.2 2.8.6 4.1.1.4 0 .9-.3 1.2l-1.8 1.3z"/></svg>
          <div><div class="k">T√©l√©phone</div><div class="v">07&nbsp;58&nbsp;66&nbsp;30&nbsp;69</div></div>
        </a>
        <a class="xp-card" href="mailto:contact.tclassistance@gmail.com">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M2 6a2 2 0 012-2h16a2 2 0 012 2v12a2 2 0 01-2 2H4a2 2 0 01-2-2V6zm2 .5V18h16V6.5l-8 5-8-5z"/></svg>
          <div><div class="k">Email</div><div class="v">contact.tclassistance@gmail.com</div></div>
        </a>
      </div>

      <!-- Estimation pliable -->
      <div class="estimate-wrap">
        <button class="estimate-toggle" id="estToggle" type="button" aria-expanded="false">
          <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M3 5h18v2H3V5zm0 6h18v2H3v-2zm0 6h11v2H3v-2z"/></svg>
          Estimer mon co√ªt
        </button>

        <div class="estimate-panel" id="estPanel" aria-hidden="true">
          <div class="estimate-card">
            <!-- Adresse -->
            <div class="est-row">
              <label for="estAddress">Adresse d‚Äôintervention</label>
              <div class="est-address-wrap">
                <input id="estAddress" placeholder="Ex : 1 Rue de la Paix, 38800 Le Pont-de-Claix" autocomplete="off" />
                <div class="est-suggestions" id="estSuggest"></div>
              </div>
              <button id="estCalc" type="button">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M5 4h14v2H5V4zm0 7h14v2H5v-2zm0 7h8v2H5v-2z"/></svg>
                Calculer
              </button>
            </div>

            <div class="est-status" id="estStatus"></div>

            <!-- Prestations (main-d‚Äô≈ìuvre, hors pi√®ces) -->
            <div class="services" id="servicesBox">
              <!-- S√©lecteur pneus -->
              <div class="svc-line">
                <div class="svc-left">
                  <label for="pneuSelect" class="svc-title">Montage pneus</label>
                </div>
                <div class="svc-right">
                  <select id="pneuSelect">
                    <option value="0">Aucun</option>
                    <option value="2">2 roues</option>
                    <option value="4">4 roues</option>
                  </select>
                </div>
              </div>
              <div class="svc-line">
                <div class="svc-left">
                  <input type="checkbox" id="essuie" />
                  <label for="essuie" class="svc-title">Balais d‚Äôessuie-glace - pose</label>
                </div>
                <div class="svc-right"><span class="svc-price" data-price="10">10 ‚Ç¨</span></div>
              </div>
              <div class="svc-line">
                <div class="svc-left">
                  <input type="checkbox" id="amp" />
                  <label for="amp" class="svc-title">Ampoules - pose</label>
                  <span class="svc-note">(hors ampoule)</span>
                </div>
                <div class="svc-right">
                  <select id="ampQty" class="svc-qty" disabled>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                  </select>
                  <span>√ó</span>
                  <span class="svc-price" data-price="8">8 ‚Ç¨</span>
                </div>
              </div>

              <div class="svc-line">
                <div class="svc-left">
                  <input type="checkbox" id="battTest" />
                  <label for="battTest" class="svc-title">Batterie - test / survolteur</label>
                </div>
                <div class="svc-right"><span class="svc-price" data-price="15">15 ‚Ç¨</span></div>
              </div>
              <div class="svc-line">
                <div class="svc-left">
                  <input type="checkbox" id="battRem" />
                  <label for="battRem" class="svc-title">Batterie - remplacement (MO)</label>
                  <span class="svc-note">(hors batterie)</span>
                </div>
                <div class="svc-right"><span class="svc-price" data-price="25">25 ‚Ç¨</span></div>
              </div>
              <div class="svc-line">
                <div class="svc-left">
                  <input type="checkbox" id="press" />
                  <label for="press" class="svc-title">Pression & contr√¥les s√©curit√©</label>
                </div>
                <div class="svc-right"><span class="svc-price" data-price="10">10 ‚Ç¨</span></div>
              </div>
              <div class="svc-line">
                <div class="svc-left">
                  <input type="checkbox" id="diag" />
                  <label for="diag" class="svc-title">diagnostic OBD</label>
                </div>
                <div class="svc-right"><span class="svc-price" data-price="20">20 ‚Ç¨</span></div>
              </div>
              <div class="svc-note" style="margin-top:6px">Tarifs main-d‚Äô≈ìuvre, <strong>hors pi√®ces</strong>. Le co√ªt de d√©placement s‚Äôajoute automatiquement.</div>
            </div>

            <!-- R√©sultat -->
            <div class="est-result" id="estResult" style="display:none">
              <div id="estBreak"></div>
              <div class="big" style="margin-top:6px">Total estim√© : <span id="estTotal">‚Äî</span></div>
              <div class="est-status">Montant indicatif ‚Äì hors pi√®ces et main-d‚Äô≈ìuvre sp√©cifique non list√©e.</div>
            </div>
          </div>
        </div>
      </div>
      <!-- fin estimation -->
    </div>
  </section>

  <!-- ZONE D‚ÄôINTERVENTION -->
  <section id="zone">
    <div class="map-wrap">
      <h2>Zone d‚Äôintervention</h2>
      <p style="color:var(--muted)">
        TCL Assistance intervient √† domicile autour de <strong>GRENOBLE</strong> et ses alentours.
      </p>
      <div id="map">
        <div class="touch-block" id="touchBlock">
          <button class="map-enable-btn" id="enableMapBtn" type="button">Activer la carte</button>
        </div>
      </div>

      <div class="legend">
        <span class="dot std"></span> <span>Zone standard ~30 km</span>
        <span class="dot ext"></span> <span>Zone √©tendue ~70 km</span>
        <a href="#contact" class="zone-cta" aria-label="Demander une intervention">Demander une intervention</a>
      </div>

      <noscript>
        <p style="margin-top:8px">
          Sans JavaScript, secteurs couverts : <strong>Le Pont-de-Claix, Grenoble, Voiron, Bourgoin-Jallieu, Chamb√©ry, Vienne</strong>.
          <a href="#contact">Contactez-nous</a> pour confirmer votre zone.
        </p>
      </noscript>
    </div>
  </section>

  <div class="foot">¬© TCL Assistance ‚Äì D√©pannage auto mobile</div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <script>
    /* =========================
       CONFIG ESTIMATION
       ========================= */
    const CONFIG = {
      BASE_CITY: 'Le Pont-de-Claix, France',
      ROUTE_FACTOR: 1.15,               // majoration vs ligne droite
      FORFAIT_DEPLACEMENT: 0,          // ‚Ç¨ fixe de d√©placement
      FUEL_PRICE: 1.65,                 // ‚Ç¨/L
      CONSUMPTION_L_PER_100: 8.5,       // L/100km
      TIRE_WEAR_PER_KM: 0.012,          // ‚Ç¨/km
      MAINT_PER_KM: 0.10,               // ‚Ç¨/km
      PRICES: {                         // Prestations (main-d‚Äô≈ìuvre)
        pneus2: 40,
        pneus4: 70,
        essuie: 10,
        ampoule: 8,
        battTest: 15,
        battRem: 25,
        press: 10,
        diag: 20
      }
    };
    // Co√ªt au km d√©riv√©
    const COST_PER_KM = (CONFIG.CONSUMPTION_L_PER_100 * CONFIG.FUEL_PRICE / 100)
                      + CONFIG.TIRE_WEAR_PER_KM + CONFIG.MAINT_PER_KM;

    /* ===== Effets visuels ===== */
    // Parallaxe hero
    (function(){
      const bg = document.querySelector('.hero-bg');
      if(!bg) return;
      const strength = 0.25;
      let ticking = false;
      function update(){
        const y = window.scrollY * strength;
        bg.style.transform = 'translateY(' + (y * -0.35) + 'px)';
      }
      window.addEventListener('scroll', function(){ if(!ticking){ requestAnimationFrame(function(){ update(); ticking=false; }); ticking=true; } }, {passive:true});
      update();
    })();

    // Roue tournante au scroll
    (function(){
      const wheel = document.querySelector('.wheel');
      if(!wheel) return;
      let ticking=false;
      function update(){ wheel.style.transform = 'translateX(-50%) rotate(' + ((window.scrollY*0.25)%360) + 'deg)'; }
      window.addEventListener('scroll', function(){ if(!ticking){ requestAnimationFrame(function(){ update(); ticking=false; }); ticking=true; } }, {passive:true});
      update();
    })();

    // Logo nav : remonter en douceur
    (function(){
      const link = document.querySelector('.brand-link');
      if(!link) return;
      link.addEventListener('click', function(e){
        e.preventDefault();
        window.scrollTo({ top:0, behavior:'smooth' });
      });
    })();

    // Panneau Estimation : pliable
    (function(){
      const toggle = document.getElementById('estToggle');
      const panel  = document.getElementById('estPanel');
      if(!toggle || !panel) return;
      function openPanel(){
        panel.setAttribute('aria-hidden','false');
        toggle.setAttribute('aria-expanded','true');
        panel.style.maxHeight = 'none';
        const h = panel.scrollHeight;
        panel.style.maxHeight = '0px';
        requestAnimationFrame(function(){ panel.style.maxHeight = h + 'px'; });
      }
      function closePanel(){
        panel.setAttribute('aria-hidden','true');
        toggle.setAttribute('aria-expanded','false');
        panel.style.maxHeight = panel.scrollHeight + 'px';
        requestAnimationFrame(function(){ panel.style.maxHeight = '0px'; });
      }
      toggle.addEventListener('click', function(){
        const open = toggle.getAttribute('aria-expanded') === 'true';
        open ? closePanel() : openPanel();
      });
      panel.addEventListener('transitionend', function(e){
        if(e.propertyName !== 'max-height') return;
        const open = toggle.getAttribute('aria-expanded') === 'true';
        panel.style.maxHeight = open ? 'none' : '0px';
      });
    })();

    /* ===== Estimation : d√©placement + prestations ===== */
    (function(){
      // DOM
      const addrInput = document.getElementById('estAddress');
      const suggestBox = document.getElementById('estSuggest');
      const btn = document.getElementById('estCalc');
      const status = document.getElementById('estStatus');
      const box = document.getElementById('estResult');
      const outTotal = document.getElementById('estTotal');
      const outBreak = document.getElementById('estBreak');

      // Prestations
      const pneuSelect = document.getElementById('pneuSelect');
      const essuie = document.getElementById('essuie');
      const amp = document.getElementById('amp');
      const ampQty = document.getElementById('ampQty');
      const battTest = document.getElementById('battTest');
      const battRem = document.getElementById('battRem');
      const press = document.getElementById('press');
      const diag = document.getElementById('diag');

      if(amp){
        amp.addEventListener('change', function(){
          ampQty.disabled = !amp.checked;
          if(amp.checked && ampQty.value < 1) ampQty.value = 1;
          render();
        });
      }

      // Helpers
      function formatEuro(n){ return (Math.round(n*100)/100).toFixed(2).replace('.', ',') + ' ‚Ç¨'; }
      function toRad(d){ return d*Math.PI/180; }
      function haversine(lat1, lon1, lat2, lon2){
        const R=6371, dLat=toRad(lat2-lat1), dLon=toRad(lon2-lon1);
        const a=Math.sin(dLat/2)**2 + Math.cos(toRad(lat1))*Math.cos(toRad(lat2))*Math.sin(dLon/2)**2;
        return 2*R*Math.asin(Math.sqrt(a));
      }
      async function geocode(q){
        // 1) Nettoyage + forcer France
        let query = q.trim();
        if (!/france/i.test(query)) query += ', France';

        // Centre : Le Pont-de-Claix
        const centerLat = 45.126, centerLon = 5.706;

        // Viewbox large ‚âà rayon ~80 km
        const viewbox = [
          (centerLon - 1.05).toFixed(3), // Ouest
          (centerLat - 0.80).toFixed(3), // Sud
          (centerLon + 1.05).toFixed(3), // Est
          (centerLat + 0.80).toFixed(3)  // Nord
        ].join(',');

        // Essai 1 : biais r√©gional
        let url = 'https://nominatim.openstreetmap.org/search'
          + '?format=jsonv2&limit=1&addressdetails=1&countrycodes=fr'
          + '&viewbox=' + encodeURIComponent(viewbox)
          + '&q=' + encodeURIComponent(query);

        let res = await fetch(url, { headers:{ 'Accept':'application/json' }});
        if (!res.ok) throw new Error('Geocoding HTTP error');
        let data = await res.json();

        // Secours France enti√®re
        if (!data || !data[0]) {
          url = 'https://nominatim.openstreetmap.org/search'
            + '?format=jsonv2&limit=1&addressdetails=1&countrycodes=fr'
            + '&q=' + encodeURIComponent(query);
          res = await fetch(url, { headers:{ 'Accept':'application/json' }});
          if (!res.ok) throw new Error('Geocoding HTTP error (fallback)');
          data = await res.json();
          if (!data || !data[0]) throw new Error('Adresse introuvable');
        }

        return { lat: parseFloat(data[0].lat), lon: parseFloat(data[0].lon) };
      }

      function servicesTotal(){
        let total = 0;
        const lines = [];

        const pneus = parseInt(pneuSelect.value,10);
        if(pneus === 2){ total += CONFIG.PRICES.pneus2; lines.push('Montage pneus (2) : ' + formatEuro(CONFIG.PRICES.pneus2)); }
        if(pneus === 4){ total += CONFIG.PRICES.pneus4; lines.push('Montage pneus (4) : ' + formatEuro(CONFIG.PRICES.pneus4)); }

        if(essuie && essuie.checked){ total += CONFIG.PRICES.essuie; lines.push('Balais essuie-glace (pose) : ' + formatEuro(CONFIG.PRICES.essuie)); }
        if(amp && amp.checked){
          const q = Math.max(1, parseInt(ampQty.value||'1',10));
          const v = q * CONFIG.PRICES.ampoule;
          total += v;
          lines.push('Ampoules (pose √ó' + q + ') : ' + formatEuro(v));
        }
        if(battTest && battTest.checked){ total += CONFIG.PRICES.battTest; lines.push('Batterie (test/survolteur) : ' + formatEuro(CONFIG.PRICES.battTest)); }
        if(battRem && battRem.checked){ total += CONFIG.PRICES.battRem; lines.push('Batterie (remplacement MO) : ' + formatEuro(CONFIG.PRICES.battRem)); }
        if(press && press.checked){ total += CONFIG.PRICES.press; lines.push('Pression & contr√¥les : ' + formatEuro(CONFIG.PRICES.press)); }
        if(diag && diag.checked){ total += CONFIG.PRICES.diag; lines.push('Diag OBD : ' + formatEuro(CONFIG.PRICES.diag)); }

        return { total, lines };
      }

      let lastTravel = null; // {km, travelCost}

      async function compute(){
        const q = (addrInput.value||'').trim();
        if(!q){ alert("Saisissez une adresse d‚Äôintervention."); return; }
        if (status) status.textContent = 'Calcul en cours‚Ä¶';
        box.style.display = 'none';

        try{
          const start = await geocode(CONFIG.BASE_CITY);
          const dest  = await geocode(q);
          let d = haversine(start.lat, start.lon, dest.lat, dest.lon); // km √† vol d'oiseau
          d = d * CONFIG.ROUTE_FACTOR;  // route r√©elle
          d = d * 2;                    // aller-retour

          // V√©rification de coh√©rence de distance
          if (d > 120) {
            alert("Distance estim√©e √©lev√©e. Ajoutez la ville et le code postal (ex: \"Voiron 38500, France\").");
          }

          const travelVar = d * COST_PER_KM;
          const travelCost = travelVar + CONFIG.FORFAIT_DEPLACEMENT;

          lastTravel = { km: d, travelCost: travelCost };

          render();
          if (status) status.textContent = ''; // on efface, plus de texte apr√®s le calcul
        }catch(e){
          console.error(e);
          if (status) status.textContent = 'Impossible d‚Äôestimer automatiquement. V√©rifiez l‚Äôadresse.';
          alert('Estimation impossible pour le moment. Vous pouvez nous contacter via t√©l√©phone ou email üëá');
        }
      }

      function render(){
        if(!lastTravel){ box.style.display='none'; return; }
        const svc = servicesTotal();
        const total = lastTravel.travelCost + svc.total;

        const parts = [];
        parts.push('D√©placement : ' + formatEuro(lastTravel.travelCost));

        if(svc.lines.length){ parts.push(svc.lines.join('<br>')); }
        outBreak.innerHTML = parts.join('<br>');
        outTotal.textContent = formatEuro(total);
        box.style.display = 'block';
      }

      btn.addEventListener('click', compute);
      addrInput.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ e.preventDefault(); compute(); } });

      // Recalcule √† la vol√©e les prestations si d√©placement d√©j√† calcul√©
      [pneuSelect, essuie, amp, ampQty, battTest, battRem, press, diag].forEach(function(el){
        if(!el) return;
        el.addEventListener('change', render);
        el.addEventListener('input', render);
      });

      /* ==== Autocompl√©tion Nominatim pour l'adresse ==== */
      let suggestTimer = null;

      function clearSuggestions(){
        if(!suggestBox) return;
        suggestBox.innerHTML = '';
        suggestBox.style.display = 'none';
      }






      // Formate l'adresse pour l'affichage dans la liste
      function formatSuggestionLabel(place){
        const a = place.address || {};

        const num   = a.house_number || '';
        const road  = a.road || a.pedestrian || a.footway || a.street || a.residential || '';
        const city  = a.town || a.city || a.village || a.hamlet || a.municipality || '';
        const cp    = a.postcode || '';

        let ligne1 = `${num ? num + ' ' : ''}${road}`.trim();     // "2 Cours de la Lib√©ration"
        let ligne2 = `${city} ${cp}`.trim();                      // "Vinay 38470"

        if (ligne1 && ligne2) return `${ligne1}, ${ligne2}`;
        if (ligne1) return ligne1;
        if (ligne2) return ligne2;

        // secours : on coupe display_name avant "France"
        const full = place.display_name || '';
        const cut = full.split(', France')[0];
        return cut || full;
      }










      async function fetchSuggestions(q){
        if(!suggestBox) return;
        let query = q.trim();
        if (!query) { clearSuggestions(); return; }
        if (!/france/i.test(query)) query += ', France';

        const centerLat = 45.126, centerLon = 5.706;
        const viewbox = [
          (centerLon - 1.05).toFixed(3),
          (centerLat - 0.80).toFixed(3),
          (centerLon + 1.05).toFixed(3),
          (centerLat + 0.80).toFixed(3)
        ].join(',');

        const url = 'https://nominatim.openstreetmap.org/search'
          + '?format=jsonv2&limit=8&addressdetails=1&countrycodes=fr'
          + '&viewbox=' + encodeURIComponent(viewbox)
          + '&q=' + encodeURIComponent(query);

        try{
          const res = await fetch(url, { headers:{ 'Accept':'application/json' }});
          if(!res.ok) throw new Error('HTTP');
          const data = await res.json();
          if(!Array.isArray(data) || !data.length){
            clearSuggestions();
            return;
          }

          const allowedTypes = [
            'house','residential','road','street','suburb',
            'neighbourhood','hamlet','village','town','city','quarter'
          ];
          let list = data.filter(place =>
            place.class === 'place' &&
            allowedTypes.includes(place.type || '')
          );

          if(!list.length) list = data; // secours si vraiment rien

          //  D√âDOUBLAGE : on garde 1 entr√©e par libell√© format√©
          const seen = new Set();
          list = list.filter(place => {
            const label = formatSuggestionLabel(place);
            if (seen.has(label)) return false;
            seen.add(label);
            place._shortLabel = label;  // on stocke pour la suite
            return true;
          });

          const html = list.map(place => {
            const label = place._shortLabel || formatSuggestionLabel(place);
            const safe  = label.replace(/"/g,'&quot;');
            return `<button type="button" class="est-suggest-item">${safe}</button>`;
          }).join('');

          suggestBox.innerHTML = html;
          suggestBox.style.display = 'block';
        }catch(e){
          console.error(e);
          clearSuggestions();
        }
      }


      if(addrInput && suggestBox){
        addrInput.addEventListener('input', () => {
          const q = addrInput.value.trim();
          clearTimeout(suggestTimer);
          if(q.length < 3){
            clearSuggestions();
            return;
          }
          suggestTimer = setTimeout(() => { fetchSuggestions(q); }, 350);
        });

        // S√©lection d‚Äôune suggestion
        suggestBox.addEventListener('click', (e) => {
          const btn = e.target.closest('.est-suggest-item');
          if(!btn) return;
          addrInput.value = btn.textContent;
          clearSuggestions();
        });

        // Masquer √† la perte de focus (avec petit d√©lai pour laisser le clic passer)
        addrInput.addEventListener('blur', () => {
          setTimeout(clearSuggestions, 200);
        });
      }
    })();

    /* ===== Carte Leaflet (zones) ===== */
    (function(){
      const el = document.getElementById('map');
      if(!el || !window.L) return;

      const center = [45.126, 5.706]; // Le Pont-de-Claix (approx.)
      const map = L.map('map', { scrollWheelZoom:false }).setView(center, 11);

      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 18,
        attribution: '&copy; OpenStreetMap'
      }).addTo(map);

      const stdColor = '#2B8CF0', extColor = '#6AA6FF';
      const rStd = 30000, rExt = 70000;
      const stdCircle = L.circle(center, { radius: rStd, color: stdColor, weight: 1, fillColor: stdColor, fillOpacity: 0.15 }).addTo(map);
      const extCircle = L.circle(center, { radius: rExt, color: extColor, weight: 1, fillColor: extColor, fillOpacity: 0.10 }).addTo(map);

      const group = L.featureGroup([extCircle]);
      map.fitBounds(group.getBounds().pad(0.15));

      // Overlay tactile
      var touchBlock = document.getElementById('touchBlock');
      var enableBtn  = document.getElementById('enableMapBtn');
      var isTouch = (('ontouchstart' in window) || (navigator.maxTouchPoints>0) || (navigator.msMaxTouchPoints>0));
      if(isTouch){
        try{
          map.dragging.disable(); map.touchZoom.disable(); map.doubleClickZoom.disable();
          if(map.boxZoom && map.boxZoom.disable) map.boxZoom.disable();
          if(map.keyboard && map.keyboard.disable) map.keyboard.disable();
          map.scrollWheelZoom.disable();
        }catch(e){}
        if(touchBlock && enableBtn){
          enableBtn.addEventListener('click', function(){
            try{
              map.dragging.enable(); map.touchZoom.enable(); map.doubleClickZoom.enable();
              if(map.boxZoom && map.boxZoom.enable) map.boxZoom.enable();
              if(map.keyboard && map.keyboard.enable) map.keyboard.enable();
            }catch(e){}
            touchBlock.parentNode && touchBlock.parentNode.removeChild(touchBlock);
          }, {passive:true});
        }
      } else {
        try{
          map.dragging.enable(); map.touchZoom.enable(); map.doubleClickZoom.enable();
        }catch(e){}
        if(touchBlock && touchBlock.parentNode) touchBlock.parentNode.removeChild(touchBlock);
      }
    })();
  </script>
</body>
</html>
